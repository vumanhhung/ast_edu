System.register("@progress/kendo-angular-treeview",["tslib","@angular/core","rxjs/observable/of","rxjs/Subscription","rxjs/BehaviorSubject","rxjs/observable/merge","rxjs/operators/filter","rxjs/operators/map","rxjs/operators/take","rxjs/operators/switchMap","rxjs/Subject","@angular/common","rxjs/observable/empty","@angular/animations","rxjs/operators/catchError","rxjs/operators/takeUntil","rxjs/operators/tap","rxjs/operators/delay"],function(l){var i,n,r,o,s,a,d,c,p,u,h,f,y,v,m,g,_,b;function t(e){return e.__useDefault?e.default:e}return{setters:[function(e){i=t(e)},function(e){n=t(e)},function(e){r=t(e)},function(e){o=t(e)},function(e){s=t(e)},function(e){a=t(e)},function(e){d=t(e)},function(e){c=t(e)},function(e){p=t(e)},function(e){u=t(e)},function(e){h=t(e)},function(e){f=t(e)},function(e){y=t(e)},function(e){v=t(e)},function(e){m=t(e)},function(e){g=t(e)},function(e){_=t(e)},function(e){b=t(e)}],execute:function(){!function(i){var n={};function r(e){if(n[e])return n[e].exports;var t=n[e]={exports:{},id:e,loaded:!1};return i[e].call(t.exports,t,t.exports,r),t.loaded=!0,t.exports}r.m=i,r.c=n,r.p="",r(0)}([function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(1);t.TreeViewComponent=n.TreeViewComponent;var r=i(21);t.TreeViewModule=r.TreeViewModule;var o=i(4);t.NodeTemplateDirective=o.NodeTemplateDirective;var s=i(30);t.CheckDirective=s.CheckDirective;var a=i(35);t.DisableDirective=a.DisableDirective;var d=i(36);t.ExpandDirective=d.ExpandDirective;var c=i(38);t.SelectDirective=c.SelectDirective;var p=i(39);t.HierarchyBindingDirective=p.HierarchyBindingDirective;var u=i(43);t.FlatDataBindingDirective=u.FlatDataBindingDirective,function(e){for(var t in e)l(t,e[t])}(t)},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(2),p=i(3),r=i(4),o=i(5),s=i(7),a=i(8),d=i(9),c=i(10),u=i(14),l=i(15),h=i(12),f=i(16),y=i(17),v=i(18),m=i(19),g=i(20),_=[o.ExpandStateService,s.IndexBuilderService,l.TreeViewLookupService,a.LoadingNotificationService,d.NodeChildrenService,c.NavigationService,u.SelectionService,g.DataChangeNotificationService],b=function(){function e(e,t,i,n,r,o,s,a,d){var c=this;this.expandService=e,this.navigationService=t,this.nodeChildrenService=i,this.selectionService=n,this.treeViewLookupService=r,this.ngZone=o,this.renderer=s,this.element=a,this.dataChangeNotification=d,this.classNames=!0,this.fetchNodes=function(){return c.data},this.childrenLoaded=new p.EventEmitter,this.onBlur=new p.EventEmitter,this.onFocus=new p.EventEmitter,this.expand=new p.EventEmitter,this.collapse=new p.EventEmitter,this.checkedChange=new p.EventEmitter,this.selectionChange=new p.EventEmitter,this.nodeClick=new p.EventEmitter,this.nodeDblClick=new p.EventEmitter,this.isDisabled=f.isDisabled,this.navigable=!0,this.children=function(){return m.of([])},this.checkboxes=!1,this.expandIcons=!1,this.isActive=!1,this.data=new v.BehaviorSubject([]),this._animate=!0,this.subscriptions=new y.Subscription(function(){}),this.domSubscriptions=[]}return Object.defineProperty(e.prototype,"role",{get:function(){return"tree"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"animate",{get:function(){return!this._animate},set:function(e){this._animate=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nodes",{set:function(e){this.dataChangeNotification.notify(),this.data.next(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasChildren",{get:function(){return this._hasChildren||f.hasChildren},set:function(e){this._hasChildren=e,this.expandIcons=Boolean(this._isExpanded&&this._hasChildren)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isChecked",{get:function(){return this._isChecked||f.isChecked},set:function(e){this._isChecked=e,this.checkboxes=Boolean(this._isChecked)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isExpanded",{get:function(){return this._isExpanded||f.isExpanded},set:function(e){this._isExpanded=e,this.expandIcons=Boolean(this._isExpanded&&this._hasChildren)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isSelected",{get:function(){return this._isSelected||f.isSelected},set:function(e){this._isSelected=e},enumerable:!0,configurable:!0}),e.prototype.ngOnChanges=function(e){this.navigationService.navigable=Boolean(this.navigable)},e.prototype.ngOnDestroy=function(){this.subscriptions.unsubscribe(),this.domSubscriptions.forEach(function(e){return e()})},e.prototype.ngOnInit=function(){var n=this;this.subscriptions.add(this.nodeChildrenService.changes.subscribe(function(e){return n.childrenLoaded.emit(e)})),this.subscriptions.add(this.expandService.changes.subscribe(function(e){var t=e.index,i=e.dataItem;return e.expand?n.expand.emit({index:t,dataItem:i}):n.collapse.emit({index:t,dataItem:i})})),this.subscriptions.add(this.navigationService.checks.subscribe(function(e){return n.checkedChange.emit(n.treeViewLookupService.itemLookup(e))})),this.subscriptions.add(this.selectionService.changes.subscribe(function(e){h.hasObservers(n.selectionChange)&&n.ngZone.run(function(){n.selectionChange.emit(e)})})),this.element&&this.ngZone.runOutsideAngular(function(){n.attachDomHandlers()})},e.prototype.blur=function(){if(h.isDocumentAvailable()){var e=h.focusableNode(this.element);document.activeElement===e&&e.blur()}},e.prototype.focus=function(e){this.navigationService.activateIndex(e);var t=h.focusableNode(this.element);t&&t.focus()},e.prototype.attachDomHandlers=function(){var e=this.element.nativeElement;this.clickHandler=this.clickHandler.bind(this),this.domSubscriptions.push(this.renderer.listen(e,"contextmenu",this.clickHandler),this.renderer.listen(e,"click",this.clickHandler),this.renderer.listen(e,"dblclick",this.clickHandler),this.renderer.listen(e,"focusin",this.focusHandler.bind(this)),this.renderer.listen(e,"focusout",this.blurHandler.bind(this)),this.renderer.listen(e,"keydown",this.keydownHandler.bind(this)))},e.prototype.focusHandler=function(e){var t,i=this;h.match(e.target,".k-treeview-item")?t=e.target:h.isFocusable(e.target)||(t=h.closestNode(e.target)),t&&(this.navigationService.activateIndex(h.nodeId(e.target)),!this.isActive&&h.hasObservers(this.onFocus)&&this.ngZone.run(function(){i.onFocus.emit()}),this.isActive=!0)},e.prototype.blurHandler=function(e){var t=this;!this.isActive||!h.match(e.target,".k-treeview-item")||e.relatedTarget&&h.match(e.relatedTarget,".k-treeview-item")&&h.hasParent(e.relatedTarget,this.element.nativeElement)||(this.navigationService.deactivate(),this.isActive=!1,h.hasObservers(this.onBlur)&&this.ngZone.run(function(){t.onBlur.emit()}))},e.prototype.clickHandler=function(t){var i=this,e=t.target;if(!("contextmenu"===t.type&&!h.hasObservers(this.nodeClick)||"click"===t.type&&!h.hasObservers(this.nodeClick)&&!h.hasObservers(this.selectionChange)||"dblclick"===t.type&&!h.hasObservers(this.nodeDblClick)||h.isFocusable(e))&&h.isContent(e)&&h.hasParent(e,this.element.nativeElement)){var n=h.nodeId(h.closestNode(e));n&&!this.navigationService.isDisabled(n)&&this.ngZone.run(function(){var e=i.treeViewLookupService.itemLookup(n);"click"===t.type&&i.navigationService.selectIndex(n),("dblclick"===t.type?i.nodeDblClick:i.nodeClick).emit({item:e.item,originalEvent:t,type:t.type})})}},e.prototype.keydownHandler=function(e){var t=this;this.isActive&&this.navigable&&this.ngZone.run(function(){t.navigationService.move(e)})},n.__decorate([p.HostBinding("class.k-widget"),p.HostBinding("class.k-treeview"),n.__metadata("design:type",Boolean)],e.prototype,"classNames",void 0),n.__decorate([p.HostBinding("attr.role"),n.__metadata("design:type",String),n.__metadata("design:paramtypes",[])],e.prototype,"role",null),n.__decorate([p.Input(),p.HostBinding("@.disabled"),n.__metadata("design:type",Boolean),n.__metadata("design:paramtypes",[Boolean])],e.prototype,"animate",null),n.__decorate([p.Output(),n.__metadata("design:type",p.EventEmitter)],e.prototype,"childrenLoaded",void 0),n.__decorate([p.Output("blur"),n.__metadata("design:type",p.EventEmitter)],e.prototype,"onBlur",void 0),n.__decorate([p.Output("focus"),n.__metadata("design:type",p.EventEmitter)],e.prototype,"onFocus",void 0),n.__decorate([p.Output(),n.__metadata("design:type",p.EventEmitter)],e.prototype,"expand",void 0),n.__decorate([p.Output(),n.__metadata("design:type",p.EventEmitter)],e.prototype,"collapse",void 0),n.__decorate([p.Output(),n.__metadata("design:type",p.EventEmitter)],e.prototype,"checkedChange",void 0),n.__decorate([p.Output(),n.__metadata("design:type",p.EventEmitter)],e.prototype,"selectionChange",void 0),n.__decorate([p.Output(),n.__metadata("design:type",p.EventEmitter)],e.prototype,"nodeClick",void 0),n.__decorate([p.Output(),n.__metadata("design:type",p.EventEmitter)],e.prototype,"nodeDblClick",void 0),n.__decorate([p.ContentChild(r.NodeTemplateDirective),n.__metadata("design:type",r.NodeTemplateDirective)],e.prototype,"nodeTemplate",void 0),n.__decorate([p.Input(),n.__metadata("design:type",Array),n.__metadata("design:paramtypes",[Array])],e.prototype,"nodes",null),n.__decorate([p.Input(),n.__metadata("design:type",Object)],e.prototype,"textField",void 0),n.__decorate([p.Input(),n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[Function])],e.prototype,"hasChildren",null),n.__decorate([p.Input(),n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[Function])],e.prototype,"isChecked",null),n.__decorate([p.Input(),n.__metadata("design:type",Function)],e.prototype,"isDisabled",void 0),n.__decorate([p.Input(),n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[Function])],e.prototype,"isExpanded",null),n.__decorate([p.Input(),n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[Function])],e.prototype,"isSelected",null),n.__decorate([p.Input(),n.__metadata("design:type",Boolean)],e.prototype,"navigable",void 0),n.__decorate([p.Input(),n.__metadata("design:type",Function)],e.prototype,"children",void 0),e=n.__decorate([p.Component({changeDetection:p.ChangeDetectionStrategy.Default,exportAs:"kendoTreeView",providers:_,selector:"kendo-treeview",template:'\n    <ul class="k-treeview-lines"\n      kendoTreeViewGroup\n      role="group"\n      [checkboxes]="checkboxes"\n      [expandIcons]="expandIcons"\n      [children]="children"\n      [hasChildren]="hasChildren"\n      [isChecked]="isChecked"\n      [isDisabled]="isDisabled"\n      [isExpanded]="isExpanded"\n      [isSelected]="isSelected"\n      [nodeTemplateRef]="nodeTemplate?.templateRef"\n      [textField]="textField"\n      [nodes]="fetchNodes"\n      >\n    </ul>\n  '}),n.__metadata("design:paramtypes",[o.ExpandStateService,c.NavigationService,d.NodeChildrenService,u.SelectionService,l.TreeViewLookupService,p.NgZone,p.Renderer2,p.ElementRef,g.DataChangeNotificationService])],e)}();t.TreeViewComponent=b},function(e,t){e.exports=i},function(e,t){e.exports=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(2),r=i(3),o=function(){function e(e){this.templateRef=e}return e=n.__decorate([r.Directive({selector:"[kendoTreeViewNodeTemplate]"}),n.__param(0,r.Optional()),n.__metadata("design:paramtypes",[r.TemplateRef])],e)}();t.NodeTemplateDirective=o},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(2),r=i(3),o=i(6),s=function(){function e(){this.changes=new o.Subject}return e.prototype.expand=function(e,t){this.changes.next({dataItem:t,index:e,expand:!0})},e.prototype.collapse=function(e,t){this.changes.next({dataItem:t,index:e,expand:!1})},e=n.__decorate([r.Injectable()],e)}();t.ExpandStateService=s},function(e,t){e.exports=h},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(2),r=i(3),o=function(){function e(){this.INDEX_SEPARATOR="_"}return e.prototype.nodeIndex=function(e,t){return void 0===e&&(e=""),void 0===t&&(t=""),""+t+(t?this.INDEX_SEPARATOR:"")+e},e.prototype.indexForLevel=function(e,t){return e.split(this.INDEX_SEPARATOR).slice(0,t).join(this.INDEX_SEPARATOR)},e.prototype.lastLevelIndex=function(e){void 0===e&&(e="");var t=e.split(this.INDEX_SEPARATOR);return t.length?parseInt(t[t.length-1],10):NaN},e.prototype.level=function(e){return e.split(this.INDEX_SEPARATOR).length},e=n.__decorate([r.Injectable()],e)}();t.IndexBuilderService=o},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(2),r=i(3),o=i(6),s=function(){function e(){this.changes=new o.Subject}return e.prototype.notifyLoaded=function(e){this.changes.next(e)},e=n.__decorate([r.Injectable()],e)}();t.LoadingNotificationService=s},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(2),r=i(3),o=i(6),s=function(){function e(){this.changes=new o.Subject}return e.prototype.childrenLoaded=function(e,t){this.changes.next({item:e,children:t})},e=n.__decorate([r.Injectable()],e)}();t.NodeChildrenService=s},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(2),r=i(3),o=i(11),s=i(12),a=i(13),d=i(6),c=function(e,t){return e[t]||e},p=function(){function e(){var e,t=this;this.expands=new d.Subject,this.moves=new d.Subject,this.checks=new d.Subject,this.selects=new d.Subject,this.navigable=!0,this.actions=((e={})[a.Keys.up]=function(){return t.activate(c(t.focusableItem,"prev"))},e[a.Keys.down]=function(){return t.activate(c(t.focusableItem,"next"))},e[a.Keys.left]=function(){return t.expand({expand:!1,intercept:t.moveToParent.bind(t)})},e[a.Keys.right]=function(){return t.expand({expand:!0,intercept:t.moveToChild.bind(t)})},e[a.Keys.home]=function(){return t.activate(t.model.firstNode())},e[a.Keys.end]=function(){return t.activate(t.model.lastNode())},e[a.Keys.enter]=function(){return t.navigable&&t.selectIndex(s.nodeIndex(t.activeItem))},e[a.Keys.space]=function(){return t.navigable&&t.checkIndex(s.nodeIndex(t.activeItem))},e),this.isFocused=!1,this._model=new o.NavigationModel}return Object.defineProperty(e.prototype,"model",{get:function(){return this._model},set:function(e){this._model=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activeIndex",{get:function(){return s.nodeIndex(this.activeItem)||null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"focusableItem",{get:function(){return this.activeItem||this.model.firstNode()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isActiveExpanded",{get:function(){return this.activeItem&&0<this.activeItem.children.length},enumerable:!0,configurable:!0}),e.prototype.activate=function(e){this.navigable&&e&&!this.isActive(s.nodeIndex(e))&&(this.isFocused=!0,this.activeItem=e||this.activeItem,this.notifyMove())},e.prototype.activateParent=function(e){this.activate(this.model.findParent(e))},e.prototype.activateIndex=function(e){e&&this.activate(this.model.findNode(e))},e.prototype.activateClosest=function(e){e&&s.nodeIndex(this.focusableItem)===e&&(this.activeItem=this.model.closestNode(e),this.notifyMove())},e.prototype.activateFocusable=function(){this.activeItem||(this.activeItem=this.model.firstNode(),this.notifyMove())},e.prototype.deactivate=function(){this.navigable&&this.isFocused&&(this.isFocused=!1,this.notifyMove())},e.prototype.checkIndex=function(e){this.isDisabled(e)||this.checks.next(e)},e.prototype.selectIndex=function(e){this.isDisabled(e)||this.selects.next(e)},e.prototype.isActive=function(e){return!!e&&(this.isFocused&&this.activeIndex===e)},e.prototype.isFocusable=function(e){return s.nodeIndex(this.focusableItem)===e},e.prototype.isDisabled=function(e){return this.model.findNode(e).disabled},e.prototype.registerItem=function(e,t){this.model.registerItem(e,t)},e.prototype.unregisterItem=function(e){this.isActive(e)&&this.activateParent(e),this.model.unregisterItem(e)},e.prototype.move=function(e){if(this.navigable){var t=this.actions[e.keyCode];t&&(t(),e.preventDefault())}},e.prototype.expand=function(e){var t=e.expand,i=e.intercept,n=s.nodeIndex(this.activeItem);n&&!i(n)&&this.notifyExpand(t)},e.prototype.moveToParent=function(){return!this.isActiveExpanded&&(this.activate(this.model.findParent(s.nodeIndex(this.activeItem))),!0)},e.prototype.moveToChild=function(){return!!this.isActiveExpanded&&(this.activate(this.model.findChild(s.nodeIndex(this.activeItem))),!0)},e.prototype.notifyExpand=function(e){this.expands.next(this.navigationState(e))},e.prototype.notifyMove=function(){this.moves.next(this.navigationState())},e.prototype.navigationState=function(e){return void 0===e&&(e=!1),{expand:e,index:s.nodeIndex(this.activeItem),isFocused:this.isFocused}},e=n.__decorate([r.Injectable()],e)}();t.NavigationService=p},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(7),r=function(e){return e[e.length-1]},o=function(e){return e||{}},s=function(e){return o(e).children||[]},a=function(e){for(var t=e,i=[].concat(s(e));i.length;)t=(i=i.concat(s(r(i)))).shift();return t},d=function(){function e(){this.ib=new n.IndexBuilderService,this.nodes=[]}return e.prototype.firstNode=function(){return this.nodes[0]||null},e.prototype.lastNode=function(){var e=this.nodes[this.nodes.length-1];return e?a(r(this.container(e)))||e:null},e.prototype.closestNode=function(e){var t=o(this.findNode(e)).prev||this.firstNode();return o(t).index===e?this.sibling(t,1):t},e.prototype.findNode=function(e){return this.find(e,this.nodes)},e.prototype.findParent=function(e){var t=this.ib.level(e)-1;return this.findNode(this.ib.indexForLevel(e,t))},e.prototype.findChild=function(e){return s(this.findNode(e))[0]||null},e.prototype.registerItem=function(e,t){var i,n,r,o=this.ib.level(e),s=this.findParent(e);if(s||1===o){var a={children:[],index:e,parent:s,prev:this.prevNode(s,e),next:this.nextNode(s,e),disabled:t};n=(i=a).prev,r=i.next,n&&(n.next=i),r&&(r.prev=i),this.insert(a,s)}},e.prototype.unregisterItem=function(e){var t=this.find(e,this.nodes);if(t){var i,n;i=t.prev,n=this.nextNode(t.parent,t.index),i&&(i.next=n),n&&(n.prev=i);var r=this.container(t.parent);r.splice(r.indexOf(t),1)}},e.prototype.childLevel=function(e){return e&&e.length?this.ib.level(e[0].index):1},e.prototype.container=function(e){return e?e.children:this.nodes},e.prototype.find=function(e,t){var i=this.childLevel(t),n=this.ib.indexForLevel(e,i),r=i===this.ib.level(e),o=t.find(function(e){return e.index===n});return o?r?o:this.find(e,o.children):null},e.prototype.closestIndexPosition=function(e,t){for(var i=this.ib.lastLevelIndex(t),n=0;n<e.length;){if(this.ib.lastLevelIndex(e[n].index)>i)return n;n+=1}return n},e.prototype.insert=function(e,t){var i=this.container(t);i.splice(this.closestIndexPosition(i,e.index),0,e)},e.prototype.prevNode=function(e,t){var i=this.container(e),n=i.slice(0,this.closestIndexPosition(i,t));return a(r(n))||e||null},e.prototype.nextNode=function(e,t){var i=this.container(e),n=this.findNode(t);if(!e&&n)return this.sibling(n,1);var r=this.closestIndexPosition(i,t),o=i.slice(r)[0];return o||this.sibling(e,1)},e.prototype.sibling=function(e,t){if(!e)return null;var i=this.findParent(e.index),n=this.container(i);return n[n.indexOf(e)+t]||this.sibling(i,t)||null},e}();t.NavigationModel=d},function(e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=/^(?:a|input|select|option|textarea|button|object)$/i;n.match=function(e,t){var i=e.matches||e.msMatchesSelector||e.webkitMatchesSelector;return!!i&&i.call(e,t)};n.noop=function(){},n.isPresent=function(e){return null!=e},n.isBlank=function(e){return null==e},n.isArray=function(e){return Array.isArray(e)},n.isNullOrEmptyString=function(e){return n.isBlank(e)||0===e.trim().length},n.isDocumentAvailable=function(){return"undefined"!=typeof document},n.hasObservers=function(e){return 0<e.observers.length},n.isChanged=function(e,t,i){return void 0===i&&(i=!0),t[e]&&(!t[e].isFirstChange()||!i)&&t[e].previousValue!==t[e].currentValue},n.anyChanged=function(e,t,i){return void 0===i&&(i=!0),e.some(function(e){return n.isChanged(e,t,i)})},n.closestNode=function(e){var t="li.k-treeview-item";return n.isDocumentAvailable()?e.closest?e.closest(t):function(e,t){if(!document.documentElement.contains(e))return null;for(var i=e;null!==i&&1===i.nodeType;){if(n.match(i,t))return i;i=i.parentElement||i.parentNode}return null}(e,t):null},n.isFocusable=function(e){if(e.tagName){var t=e.tagName.toLowerCase(),i=e.getAttribute("tabIndex"),n="-1"===i,r=null!==i&&!n;return o.test(t)&&(r=!e.disabled&&!n),r}return!1},n.isContent=function(e){if(!n.isDocumentAvailable())return null;for(var t=e;t&&!n.match(t,".k-in,.k-treeview-item,.k-treeview");)t=t.parentNode;return t?n.match(t,".k-in"):void 0},n.closest=function(e,t){for(;e&&!t(e);)e=e.parentNode;return e},n.hasParent=function(e,t){return Boolean(n.closest(e,function(e){return e===t}))},n.focusableNode=function(e){return e.nativeElement.querySelector('li[tabindex="0"]')},n.hasActiveNode=function(e,t){var i=t||n.closestNode(e);return i&&(i===e||e.tabIndex<0)},n.nodeId=function(e){return e?e.getAttribute("data-treeindex"):""},n.nodeIndex=function(e){return(e||{}).index},n.guid=function(){for(var e,t="",i=0;i<32;i++)e=16*Math.random()|0,8!==i&&12!==i&&16!==i&&20!==i||(t+="-"),t+=(12===i?4:16===i?3&e|8:e).toString(16);return t}},function(e,t){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),(i=t.Keys||(t.Keys={}))[i.enter=13]="enter",i[i.shift=16]="shift",i[i.space=32]="space",i[i.end=35]="end",i[i.home=36]="home",i[i.left=37]="left",i[i.up=38]="up",i[i.right=39]="right",i[i.down=40]="down"},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(2),r=i(3),o=i(6),s=function(){function e(){this.changes=new o.Subject}return e.prototype.isFirstSelected=function(e){return this.firstIndex===e},e.prototype.setFirstSelected=function(e,t){this.firstIndex===e&&!1===t?this.firstIndex=null:!this.firstIndex&&t&&(this.firstIndex=e)},e.prototype.select=function(e,t){this.changes.next({dataItem:t,index:e})},e=n.__decorate([r.Injectable()],e)}();t.SelectionService=s},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(2),r=i(3),o=i(12),s=/\d+$/,a=function(){function e(){this.map=new Map}return e.prototype.registerItem=function(e,t){var i={children:[],item:e,parent:this.item(o.nodeIndex(t))};this.map.set(e.index,i)},e.prototype.registerChildren=function(e,t){var i=this.item(e);i&&(i.children=t)},e.prototype.unregisterItem=function(e,t){var i=this.item(e);i&&i.item.dataItem===t&&(this.map.delete(e),i.parent&&i.parent.children&&(i.parent.children=i.parent.children.filter(function(e){return e.dataItem!==t})))},e.prototype.replaceItem=function(e,t,i){t&&(this.unregisterItem(e,t.dataItem),this.registerItem(t,i),this.addToParent(t,i))},e.prototype.itemLookup=function(e){var t=this.item(e);return t?{children:this.mapChildren(t.children),item:t.item,parent:t.parent}:null},e.prototype.hasItem=function(e){return this.map.has(e)},e.prototype.item=function(e){return this.map.get(e)||null},e.prototype.addToParent=function(e,t){if(t){var i=this.item(t.index),n=parseInt(s.exec(e.index)[0],10);i.children=i.children||[],i.children.splice(n,0,e)}},e.prototype.mapChildren=function(e){var o=this;return void 0===e&&(e=[]),e.map(function(e){var t=o.item(e.index),i=t.item,n=t.parent,r=t.children;return{children:o.mapChildren(r),item:i,parent:n}})},e=n.__decorate([r.Injectable()],e)}();t.TreeViewLookupService=a},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hasChildren=function(){return!1},t.isChecked=function(){return"none"},t.isDisabled=function(){return!1},t.isExpanded=function(){return!0},t.isSelected=function(){return!1}},function(e,t){e.exports=o},function(e,t){e.exports=s},function(e,t){e.exports=r},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(3),r=function(){function e(){this.changes=new n.EventEmitter}return e.prototype.notify=function(){this.changes.emit()},e}();t.DataChangeNotificationService=r},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(2),r=i(3),o=i(1),s=i(22),a=i(4),d=i(30),c=i(35),p=i(36),u=i(38),l=i(39),h=i(43),f=[o.TreeViewComponent,a.NodeTemplateDirective,d.CheckDirective,c.DisableDirective,p.ExpandDirective,u.SelectDirective,l.HierarchyBindingDirective,h.FlatDataBindingDirective],y=function(){function e(){}return e=n.__decorate([r.NgModule({exports:[f],imports:[s.SharedModule]})],e)}();t.TreeViewModule=y},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(2),r=i(3),o=i(1),s=i(23),a=i(29),d=i(4),c=i(30),p=i(35),u=i(36),l=i(38),h=i(39),f=i(40),y=i(43),v=i(45),m=i(46),g=i(47),_=[o.TreeViewComponent,s.TreeViewGroupComponent,v.TreeViewItemDirective,m.TreeViewItemContentDirective,d.NodeTemplateDirective,c.CheckDirective,p.DisableDirective,u.ExpandDirective,l.SelectDirective,h.HierarchyBindingDirective,f.LoadingIndicatorDirective,y.FlatDataBindingDirective],b=function(){function e(){}return e=n.__decorate([r.NgModule({declarations:[_],exports:[_],imports:[a.CommonModule,g.CheckBoxModule]})],e)}();t.SharedModule=b},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(2),r=i(3),o=i(24),s=i(5),a=i(7),d=i(15),c=i(10),p=i(9),u=i(12),l=i(25),h=i(8),f=i(26),y=i(19),v=i(27),m=i(28),g=i(20),_=function(){function e(e,t,i,n,r,o,s){this.expandService=e,this.loadingService=t,this.indexBuilder=i,this.treeViewLookupService=n,this.navigationService=r,this.nodeChildrenService=o,this.dataChangeNotification=s,this.kGroupClass=!0,this.textField="",this._data=[],this.isChecked=function(){return"none"},this.isDisabled=function(){return!1},this.isExpanded=function(){return!1},this.isSelected=function(){return!1},this.children=function(){return y.of([])},this.hasChildren=function(){return!1}}return Object.defineProperty(e.prototype,"role",{get:function(){return"group"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return this._data},set:function(e){this._data=e;var t=this.mapToTreeItem(e);this.setNodeChildren(t),this.emitChildrenLoaded(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasTemplate",{get:function(){return u.isPresent(this.nodeTemplateRef)},enumerable:!0,configurable:!0}),e.prototype.expandNode=function(e,t,i){i?this.expandService.expand(e,t):this.expandService.collapse(e,t)},e.prototype.checkNode=function(e){this.navigationService.checkIndex(e),this.navigationService.activateIndex(e)},e.prototype.nodeIndex=function(e){return this.indexBuilder.nodeIndex(e.toString(),this.parentIndex)},e.prototype.nodeText=function(e){var t=u.isArray(this.textField)?this.textField[0]:this.textField;return l.getter(t,!0)(e)},e.prototype.ngOnDestroy=function(){this.nodesSubscription&&this.nodesSubscription.unsubscribe(),this.dataChangeSubscription&&this.dataChangeSubscription.unsubscribe()},e.prototype.ngOnInit=function(){this.subscribeToNodesChange(),this.dataChangeSubscription=this.dataChangeNotification.changes.subscribe(this.subscribeToNodesChange.bind(this))},e.prototype.ngOnChanges=function(e){e.parentIndex&&this.setNodeChildren(this.mapToTreeItem(this.data))},e.prototype.fetchChildren=function(e,t){var i=this;return this.children(e).pipe(v.catchError(function(){return i.loadingService.notifyLoaded(t),f.empty()}),m.tap(function(){return i.loadingService.notifyLoaded(t)}))},Object.defineProperty(e.prototype,"nextFields",{get:function(){return u.isArray(this.textField)?1<this.textField.length?this.textField.slice(1):this.textField:[this.textField]},enumerable:!0,configurable:!0}),e.prototype.setNodeChildren=function(e){this.treeViewLookupService.registerChildren(this.parentIndex,e)},e.prototype.mapToTreeItem=function(e){var i=this;return this.parentIndex?e.map(function(e,t){return{dataItem:e,index:i.nodeIndex(t)}}):[]},e.prototype.emitChildrenLoaded=function(e){this.parentIndex&&this.nodeChildrenService.childrenLoaded({dataItem:this.parentDataItem,index:this.parentIndex},e)},e.prototype.subscribeToNodesChange=function(){var t=this;this.nodesSubscription&&this.nodesSubscription.unsubscribe(),this.nodesSubscription=this.nodes(this.parentDataItem,this.parentIndex).subscribe(function(e){t.data=e})},n.__decorate([r.HostBinding("class.k-group"),n.__metadata("design:type",Boolean)],e.prototype,"kGroupClass",void 0),n.__decorate([r.HostBinding("attr.role"),n.__metadata("design:type",String),n.__metadata("design:paramtypes",[])],e.prototype,"role",null),n.__decorate([r.Input(),n.__metadata("design:type",Boolean)],e.prototype,"checkboxes",void 0),n.__decorate([r.Input(),n.__metadata("design:type",Boolean)],e.prototype,"expandIcons",void 0),n.__decorate([r.Input(),n.__metadata("design:type",Boolean)],e.prototype,"disabled",void 0),n.__decorate([r.Input(),n.__metadata("design:type",Function)],e.prototype,"nodes",void 0),n.__decorate([r.Input(),n.__metadata("design:type",Object)],e.prototype,"textField",void 0),n.__decorate([r.Input(),n.__metadata("design:type",Object)],e.prototype,"parentDataItem",void 0),n.__decorate([r.Input(),n.__metadata("design:type",String)],e.prototype,"parentIndex",void 0),n.__decorate([r.Input(),n.__metadata("design:type",r.TemplateRef)],e.prototype,"nodeTemplateRef",void 0),n.__decorate([r.Input(),n.__metadata("design:type",Function)],e.prototype,"isChecked",void 0),n.__decorate([r.Input(),n.__metadata("design:type",Function)],e.prototype,"isDisabled",void 0),n.__decorate([r.Input(),n.__metadata("design:type",Function)],e.prototype,"isExpanded",void 0),n.__decorate([r.Input(),n.__metadata("design:type",Function)],e.prototype,"isSelected",void 0),n.__decorate([r.Input(),n.__metadata("design:type",Function)],e.prototype,"children",void 0),n.__decorate([r.Input(),n.__metadata("design:type",Function)],e.prototype,"hasChildren",void 0),e=n.__decorate([r.Component({animations:[o.trigger("toggle",[o.transition("void => *",[o.style({height:0}),o.animate("0.1s ease-in",o.style({height:"*"}))]),o.transition("* => void",[o.style({height:"*"}),o.animate("0.1s ease-in",o.style({height:0}))])])],selector:"[kendoTreeViewGroup]",template:'\n        <li\n            *ngFor="let node of data; let index = index" class="k-item k-treeview-item"\n            kendoTreeViewItem\n            [dataItem]="node"\n            [index]="nodeIndex(index)"\n            [parentDataItem]="parentDataItem"\n            [parentIndex]="parentIndex"\n            [isChecked]="isChecked(node, nodeIndex(index))"\n            [isDisabled]="disabled || isDisabled(node, nodeIndex(index))"\n            [isExpanded]="isExpanded(node, nodeIndex(index))"\n            [isSelected]="isSelected(node, nodeIndex(index))"\n            [attr.data-treeindex]="nodeIndex(index)"\n        >\n            <div class="k-mid">\n                <span\n                    class="k-icon"\n                    [class.k-i-collapse]="isExpanded(node, nodeIndex(index))"\n                    [class.k-i-expand]="!isExpanded(node, nodeIndex(index))"\n                    [kendoTreeViewLoading]="nodeIndex(index)"\n                    (click)="expandNode(nodeIndex(index), node, !isExpanded(node, nodeIndex(index)))"\n                    *ngIf="expandIcons && hasChildren(node)"\n                    >\n                </span>\n                <kendo-checkbox\n                    *ngIf="checkboxes"\n                    [node]="node"\n                    [index]="nodeIndex(index)"\n                    [isChecked]="isChecked"\n                    (checkStateChange)="checkNode(nodeIndex(index))"\n                    tabindex="-1"\n                ></kendo-checkbox>\n                <span kendoTreeViewItemContent\n                    [attr.data-treeindex]="nodeIndex(index)"\n                    [dataItem]="node"\n                    [index]="nodeIndex(index)"\n                    [initialSelection]="isSelected(node, nodeIndex(index))"\n                    [isSelected]="isSelected"\n                    class="k-in"\n                >\n                    <ng-container [ngSwitch]="hasTemplate">\n                        <ng-container *ngSwitchCase="true">\n                            <ng-template\n                                [ngTemplateOutlet]="nodeTemplateRef" [ngTemplateOutletContext]="{$implicit: node, index: nodeIndex(index)}"\n                                >\n                            </ng-template>\n                        </ng-container>\n                        <ng-container *ngSwitchDefault>\n                            {{nodeText(node)}}\n                        </ng-container>\n                    </ng-container>\n                </span>\n            </div>\n            <ul\n                *ngIf="isExpanded(node, nodeIndex(index)) && hasChildren(node)"\n                kendoTreeViewGroup\n                role="group"\n                [nodes]="fetchChildren"\n                [checkboxes]="checkboxes"\n                [expandIcons]="expandIcons"\n                [children]="children"\n                [hasChildren]="hasChildren"\n                [isChecked]="isChecked"\n                [isDisabled]="isDisabled"\n                [disabled]="disabled || isDisabled(node, nodeIndex(index))"\n                [isExpanded]="isExpanded"\n                [isSelected]="isSelected"\n                [nodeTemplateRef]="nodeTemplateRef"\n                [parentIndex]="nodeIndex(index)"\n                [parentDataItem]="node"\n                [textField]="nextFields"\n                [@toggle]="true"\n                >\n            </ul>\n        </li>\n    '}),n.__metadata("design:paramtypes",[s.ExpandStateService,h.LoadingNotificationService,a.IndexBuilderService,d.TreeViewLookupService,c.NavigationService,p.NodeChildrenService,g.DataChangeNotificationService])],e)}();t.TreeViewGroupComponent=_},function(e,t){e.exports=v},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(12),s=/\[(?:(\d+)|['"](.*?)['"])\]|((?:(?!\[.*?\]|\.).)+)/g,a={undefined:function(e){return e}};t.getter=function(e,n){var t=e+n;if(a[t])return a[t];var r=[];return e.replace(s,function(e,t,i,n){r.push(o.isPresent(t)?t:i||n)}),a[t]=function(e){for(var t=e,i=0;i<r.length;i++)if(t=t[r[i]],!o.isPresent(t)&&n)return t;return t},a[t]}},function(e,t){e.exports=y},function(e,t){e.exports=m},function(e,t){e.exports=_},function(e,t){e.exports=f},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(2),r=i(3),o=i(1),a=i(12),s=i(17),d=i(31),c=i(32),p=i(33),u=i(34),l=function(){function e(e,t){var i=this;this.treeView=e,this.zone=t,this.checkedKeysChange=new r.EventEmitter,this.subscriptions=new s.Subscription(function(){}),this.checkActions={multiple:function(e){return i.checkMultiple(e)},single:function(e){return i.checkSingle(e)}},this._checkedKeys=[],this.subscriptions.add(this.treeView.checkedChange.subscribe(function(e){return i.check(e)})),this.subscriptions.add(this.treeView.childrenLoaded.pipe(d.filter(function(){return i.options.checkChildren}),p.switchMap(function(e){return i.zone.onStable.pipe(c.take(1),u.map(function(){return e}))})).subscribe(function(e){return i.addChildrenKeys(e)})),this.treeView.isChecked=this.isItemChecked.bind(this)}return Object.defineProperty(e.prototype,"isChecked",{set:function(e){this.treeView.isChecked=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"checkedKeys",{get:function(){return this._checkedKeys},set:function(e){this._checkedKeys=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){var e={checkChildren:!0,checkParents:!0,enabled:!0,mode:"multiple"};if(!a.isPresent(this.checkable))return e;var t="boolean"==typeof this.checkable?{enabled:this.checkable}:this.checkable;return Object.assign(e,t)},enumerable:!0,configurable:!0}),e.prototype.ngOnChanges=function(e){e.checkable&&(this.treeView.checkboxes=this.options.enabled)},e.prototype.ngOnDestroy=function(){this.subscriptions.unsubscribe()},e.prototype.isItemChecked=function(e,t){return this.checkKey?-1<this.checkedKeys.indexOf(this.itemKey({dataItem:e,index:t}))?"checked":"none":this.isIndexChecked(t)},e.prototype.isIndexChecked=function(e){var r,t,i=this.checkedKeys.filter((r=e,function(e){return r===e||!!e.split&&e.split("_").reduce(function(e,t){var i=e.key,n=e.result;return r===(i+=t)||n?{result:!0}:{key:i+="_",result:!1}},{key:"",result:!1}).result}));if(t=e,0<i.filter(function(e){return e===t}).length)return"checked";var n=this.options,o=n.mode,s=n.checkParents;return"multiple"===o&&s&&i.length?"indeterminate":"none"},e.prototype.itemKey=function(e){return this.checkKey?"string"==typeof this.checkKey?e.dataItem[this.checkKey]:"function"==typeof this.checkKey?this.checkKey(e):void 0:e.index},e.prototype.check=function(e){var t=this.options,i=t.enabled,n=t.mode,r=this.checkActions[n]||a.noop;i&&r(e)},e.prototype.checkSingle=function(e){var t=this.itemKey(e.item);this.checkedKeys=this.checkedKeys[0]!==t?[t]:[],this.notify()},e.prototype.checkMultiple=function(e){this.checkNode(e),this.options.checkParents&&this.checkParents(e.parent),this.notify()},e.prototype.checkNode=function(e,t){var i=this,n=this.itemKey(e.item),r=this.checkedKeys.indexOf(n),o=-1<r,s=void 0===t?!o:t;!a.isPresent(n)||o&&t||(o?this.checkedKeys.splice(r,1):this.checkedKeys.push(n),this.options.checkChildren&&e.children.map(function(e){return i.checkNode(e,s)}))},e.prototype.checkParents=function(e){for(var t=e;t;){var i=this.itemKey(t.item),n=this.checkedKeys.indexOf(i);this.allChildrenSelected(t.children)?-1===n&&this.checkedKeys.push(i):-1<n&&this.checkedKeys.splice(n,1),t=t.parent}},e.prototype.allChildrenSelected=function(e){var i=this;return e.reduce(function(e,t){return e&&"checked"===i.isItemChecked(t.dataItem,t.index)},!0)},e.prototype.notify=function(){this.checkedKeysChange.emit(this.checkedKeys.slice())},e.prototype.addChildrenKeys=function(e){var n=this;if(-1!==this.checkedKeys.indexOf(this.itemKey(e.item))){var t=e.children.reduce(function(e,t){var i=n.itemKey(t);return n.checkedKeys.find(function(e){return i===e})||e.push(i),e},[]);t.length&&(this.checkedKeys=this.checkedKeys.concat(t),this.zone.run(function(){n.notify()}))}},n.__decorate([r.Input(),n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[Function])],e.prototype,"isChecked",null),n.__decorate([r.Input("checkBy"),n.__metadata("design:type",Object)],e.prototype,"checkKey",void 0),n.__decorate([r.Input(),n.__metadata("design:type",Array),n.__metadata("design:paramtypes",[Array])],e.prototype,"checkedKeys",null),n.__decorate([r.Input("kendoTreeViewCheckable"),n.__metadata("design:type",Object)],e.prototype,"checkable",void 0),n.__decorate([r.Output(),n.__metadata("design:type",r.EventEmitter)],e.prototype,"checkedKeysChange",void 0),e=n.__decorate([r.Directive({selector:"[kendoTreeViewCheckable]"}),n.__metadata("design:paramtypes",[o.TreeViewComponent,r.NgZone])],e)}();t.CheckDirective=l},function(e,t){e.exports=d},function(e,t){e.exports=p},function(e,t){e.exports=u},function(e,t){e.exports=c},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(2),r=i(3),o=i(1),s=function(){function e(e,t){var i=this;this.treeView=e,this.cdr=t,this.disabledKeys=[],this.treeView.isDisabled=function(e,t){return-1<i.disabledKeys.indexOf(i.itemKey({dataItem:e,index:t}))}}return Object.defineProperty(e.prototype,"isDisabled",{set:function(e){this.treeView.isDisabled=e},enumerable:!0,configurable:!0}),e.prototype.ngOnChanges=function(e){void 0===e&&(e={});var t=e.disabledKeys;t&&!t.firstChange&&this.cdr.markForCheck()},e.prototype.itemKey=function(e){return this.disableKey?"string"==typeof this.disableKey?e.dataItem[this.disableKey]:"function"==typeof this.disableKey?this.disableKey(e):void 0:e.index},n.__decorate([r.Input(),n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[Function])],e.prototype,"isDisabled",null),n.__decorate([r.Input("kendoTreeViewDisable"),n.__metadata("design:type",Object)],e.prototype,"disableKey",void 0),n.__decorate([r.Input(),n.__metadata("design:type",Array)],e.prototype,"disabledKeys",void 0),e=n.__decorate([r.Directive({selector:"[kendoTreeViewDisable]"}),n.__metadata("design:paramtypes",[o.TreeViewComponent,r.ChangeDetectorRef])],e)}();t.DisableDirective=s},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(2),r=i(3),o=i(1),s=i(17),a=i(37),d=i(34),c=function(){function e(e){var i=this;this.treeView=e,this.expandedKeysChange=new r.EventEmitter,this.subscriptions=new s.Subscription(function(){}),this._expandedKeys=[],this.subscriptions.add(a.merge(this.treeView.expand.pipe(d.map(function(e){return n.__assign({expand:!0},e)})),this.treeView.collapse.pipe(d.map(function(e){return n.__assign({expand:!1},e)}))).subscribe(this.toggleExpand.bind(this))),this.treeView.isExpanded=function(e,t){return-1<i.expandedKeys.indexOf(i.itemKey({dataItem:e,index:t}))}}return Object.defineProperty(e.prototype,"isExpanded",{set:function(e){this.treeView.isExpanded=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"expandedKeys",{get:function(){return this._expandedKeys},set:function(e){this._expandedKeys=e},enumerable:!0,configurable:!0}),e.prototype.ngOnDestroy=function(){this.subscriptions.unsubscribe()},e.prototype.itemKey=function(e){if(this.expandKey){if("string"==typeof this.expandKey)return e.dataItem[this.expandKey];if("function"==typeof this.expandKey)return this.expandKey(e)}return e.index},e.prototype.toggleExpand=function(e){var t=e.index,i=e.dataItem,n=e.expand,r=this.itemKey({index:t,dataItem:i}),o=this.expandedKeys.indexOf(r),s=!1;-1<o&&!n?(this.expandedKeys.splice(o,1),s=!0):-1===o&&n&&(this.expandedKeys.push(r),s=!0),s&&this.expandedKeysChange.emit(this.expandedKeys)},n.__decorate([r.Input(),n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[Function])],e.prototype,"isExpanded",null),n.__decorate([r.Input("expandBy"),n.__metadata("design:type",Object)],e.prototype,"expandKey",void 0),n.__decorate([r.Output(),n.__metadata("design:type",r.EventEmitter)],e.prototype,"expandedKeysChange",void 0),n.__decorate([r.Input(),n.__metadata("design:type",Array),n.__metadata("design:paramtypes",[Array])],e.prototype,"expandedKeys",null),e=n.__decorate([r.Directive({selector:"[kendoTreeViewExpandable]"}),n.__metadata("design:paramtypes",[o.TreeViewComponent])],e)}();t.ExpandDirective=c},function(e,t){e.exports=a},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(2),r=i(3),o=i(1),s=i(12),a=i(17),d=function(){function e(e){var i=this;this.treeView=e,this.selectedKeysChange=new r.EventEmitter,this.subscriptions=new a.Subscription(function(){}),this.selectActions={multiple:function(e){return i.selectMultiple(e)},single:function(e){return i.selectSingle(e)}},this._selectedKeys=[],this.subscriptions.add(this.treeView.selectionChange.subscribe(this.select.bind(this))),this.treeView.isSelected=function(e,t){return-1<i.selectedKeys.indexOf(i.itemKey({dataItem:e,index:t}))}}return Object.defineProperty(e.prototype,"isSelected",{set:function(e){this.treeView.isSelected=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedKeys",{get:function(){return this._selectedKeys},set:function(e){this._selectedKeys=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"getAriaMultiselectable",{get:function(){return"multiple"===this.options.mode},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){var e={enabled:!0,mode:"single"};if(!s.isPresent(this.selection))return e;var t="boolean"==typeof this.selection?{enabled:this.selection}:this.selection;return Object.assign(e,t)},enumerable:!0,configurable:!0}),e.prototype.ngOnDestroy=function(){this.subscriptions.unsubscribe()},e.prototype.itemKey=function(e){return this.selectKey?"string"==typeof this.selectKey?e.dataItem[this.selectKey]:"function"==typeof this.selectKey?this.selectKey(e):void 0:e.index},e.prototype.select=function(e){var t=this.options,i=t.enabled,n=t.mode,r=this.selectActions[n]||s.noop;i&&r(e)},e.prototype.selectSingle=function(e){var t=this.itemKey(e);this.selectedKeys[0]!==t&&(this.selectedKeys=[t],this.notify())},e.prototype.selectMultiple=function(e){var t=this.itemKey(e),i=this.selectedKeys.indexOf(t),n=-1<i;s.isPresent(t)&&(n?this.selectedKeys.splice(i,1):this.selectedKeys.push(t),this.notify())},e.prototype.notify=function(){this.selectedKeysChange.emit(this.selectedKeys.slice())},n.__decorate([r.Input(),n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[Function])],e.prototype,"isSelected",null),n.__decorate([r.Input("selectBy"),n.__metadata("design:type",Object)],e.prototype,"selectKey",void 0),n.__decorate([r.Input("kendoTreeViewSelectable"),n.__metadata("design:type",Object)],e.prototype,"selection",void 0),n.__decorate([r.Input(),n.__metadata("design:type",Array),n.__metadata("design:paramtypes",[Array])],e.prototype,"selectedKeys",null),n.__decorate([r.Output(),n.__metadata("design:type",r.EventEmitter)],e.prototype,"selectedKeysChange",void 0),n.__decorate([r.HostBinding("attr.aria-multiselectable"),n.__metadata("design:type",Boolean),n.__metadata("design:paramtypes",[])],e.prototype,"getAriaMultiselectable",null),e=n.__decorate([r.Directive({selector:"[kendoTreeViewSelectable]"}),n.__metadata("design:paramtypes",[o.TreeViewComponent])],e)}();t.SelectDirective=d},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(2),r=i(3),o=i(1),s=i(25),a=i(12),d=i(19),c=function(){function e(e){this.treeView=e}return Object.defineProperty(e.prototype,"childrenField",{get:function(){return this._childrenField},set:function(e){if(!e)throw new Error("'childrenField' cannot be empty");this._childrenField=e},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var t=this;a.isPresent(this.childrenField)&&(this.treeView.children=function(e){return d.of(s.getter(t.childrenField,!0)(e))},this.treeView.hasChildren=function(e){return e&&Boolean(e[t.childrenField])})},n.__decorate([r.Input(),n.__metadata("design:type",String),n.__metadata("design:paramtypes",[String])],e.prototype,"childrenField",null),e=n.__decorate([r.Directive({selector:"[kendoTreeViewHierarchyBinding]"}),n.__metadata("design:paramtypes",[o.TreeViewComponent])],e)}();t.HierarchyBindingDirective=c},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(2),r=i(3),o=i(5),s=i(8),a=i(19),d=i(41),c=i(31),p=i(33),u=i(42),l=i(28),h=function(){function e(e,t,i){this.expandService=e,this.loadingService=t,this.cd=i,this._loading=!1}return Object.defineProperty(e.prototype,"loading",{get:function(){return this._loading},set:function(e){this._loading=e,this.cd.markForCheck()},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var t=this,i=this.loadingService.changes.pipe(c.filter(function(e){return e===t.index}));this.subscription=this.expandService.changes.pipe(c.filter(function(e){return e.index===t.index}),l.tap(function(e){!e.expand&&t.loading&&(t.loading=!1)}),c.filter(function(e){return e.expand}),p.switchMap(function(e){return a.of(e).pipe(d.delay(100),u.takeUntil(i))})).subscribe(function(){return t.loading=!0}),this.subscription.add(i.subscribe(function(){return t.loading=!1}))},e.prototype.ngOnDestroy=function(){this.subscription&&this.subscription.unsubscribe()},n.__decorate([r.HostBinding("class.k-i-loading"),n.__metadata("design:type",Boolean),n.__metadata("design:paramtypes",[Boolean])],e.prototype,"loading",null),n.__decorate([r.Input("kendoTreeViewLoading"),n.__metadata("design:type",String)],e.prototype,"index",void 0),e=n.__decorate([r.Directive({selector:"[kendoTreeViewLoading]"}),n.__metadata("design:paramtypes",[o.ExpandStateService,s.LoadingNotificationService,r.ChangeDetectorRef])],e)}();t.LoadingIndicatorDirective=h},function(e,t){e.exports=b},function(e,t){e.exports=g},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(2),r=i(3),o=i(1),s=i(25),a=i(12),d=i(44),c=i(19),p=function(){function e(e){this.treeView=e,this.originalData=[]}return Object.defineProperty(e.prototype,"nodes",{set:function(e){if(this.originalData=e||[],a.isNullOrEmptyString(this.parentIdField))this.treeView.nodes=this.originalData.slice(0);else{var t=s.getter(this.parentIdField,!0);this.treeView.nodes=this.originalData.filter(d.compose(a.isBlank,t))}},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var r=this;if(a.isPresent(this.parentIdField)&&a.isPresent(this.idField)){var t=function(e){return t=s.getter(r.parentIdField,!0),i=r.originalData||[],n=s.getter(r.idField,!0)(e),i.filter(function(e){return t(e)===n});var t,i,n};this.treeView.hasChildren=function(e){return 0<t(e).length},this.treeView.children=function(e){return c.of(t(e))}}},e.prototype.ngOnChanges=function(e){a.isChanged("parentIdField",e,!1)&&(this.nodes=this.originalData)},n.__decorate([r.Input(),n.__metadata("design:type",Array),n.__metadata("design:paramtypes",[Array])],e.prototype,"nodes",null),n.__decorate([r.Input(),n.__metadata("design:type",String)],e.prototype,"parentIdField",void 0),n.__decorate([r.Input(),n.__metadata("design:type",String)],e.prototype,"idField",void 0),e=n.__decorate([r.Directive({selector:"[kendoTreeViewFlatDataBinding]"}),n.__metadata("design:paramtypes",[o.TreeViewComponent])],e)}();t.FlatDataBindingDirective=p},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.compose=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return t.reduceRight(function(e,t){return t(e)},e)}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(2),r=i(3),o=i(10),s=i(14),a=i(5),d=i(7),c=i(15),p=i(12),u=i(31),l=function(e,t){return{dataItem:t,index:e}},h=function(){function e(e,t,i,n,r,o,s){this.element=e,this.expandService=t,this.navigationService=i,this.selectionService=n,this.lookupService=r,this.renderer=o,this.ib=s,this.isDisabled=!1,this.ariaChecked="false",this.isInitialized=!1,this.subscriptions=[],this.subscribe()}return Object.defineProperty(e.prototype,"isChecked",{set:function(e){this.ariaChecked="checked"===e?"true":"indeterminate"===e?"mixed":"false"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isExpanded",{get:function(){return this._isExpanded||!1},set:function(e){this._isExpanded=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isSelected",{get:function(){return this._isSelected||!1},set:function(e){this._isSelected=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"treeItem",{get:function(){return l(this.index,this.dataItem)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parentTreeItem",{get:function(){return this.parentDataItem?l(this.parentIndex,this.parentDataItem):null},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.lookupService.registerItem(this.treeItem,this.parentTreeItem),this.registerNavigationItem(),this.isInitialized=!0,this.setAttribute("role","treeitem"),this.setAriaAttributes(),this.setDisabledClass(),this.updateTabIndex()},e.prototype.ngOnChanges=function(e){var t=e.index,i=e.isDisabled;(t||e.isChecked||e.isExpanded||e.isSelected)&&this.setAriaAttributes(),i&&this.setDisabledClass(),this.moveLookupItem(e),this.moveNavigationItem(t),this.disableNavigationItem(i)},e.prototype.ngOnDestroy=function(){this.navigationService.unregisterItem(this.index),this.lookupService.unregisterItem(this.index,this.dataItem),this.subscriptions=this.subscriptions.reduce(function(e,t){return t.unsubscribe(),e},[])},e.prototype.subscribe=function(){var i=this;this.subscriptions=[this.navigationService.moves.subscribe(function(){i.updateTabIndex(),i.focusItem()}),this.navigationService.expands.pipe(u.filter(function(e){return e.index===i.index&&!i.isDisabled})).subscribe(function(e){var t=e.expand;return i.expand(t)})]},e.prototype.registerNavigationItem=function(){this.navigationService.registerItem(this.index,this.isDisabled),this.activateItem()},e.prototype.activateItem=function(){if(!this.isDisabled){var e=this.navigationService,t=this.selectionService,i=this.index;t.setFirstSelected(i,this.isSelected),!e.isActive(i)&&t.isFirstSelected(i)&&e.activateIndex(i)}},e.prototype.expand=function(e){this.expandService[e?"expand":"collapse"](this.index,this.dataItem)},e.prototype.isFocusable=function(){return!this.isDisabled&&this.navigationService.isFocusable(this.index)},e.prototype.focusItem=function(){this.isInitialized&&this.navigationService.isActive(this.index)&&this.element.nativeElement.focus()},e.prototype.moveLookupItem=function(e){void 0===e&&(e={});var t=e.dataItem,i=e.index,n=e.parentDataItem,r=e.parentIndex;if((!i||!i.firstChange)&&(t||i||n||r)){var o=(i||{}).previousValue||this.index;this.lookupService.replaceItem(o,this.treeItem,this.parentTreeItem)}},e.prototype.moveNavigationItem=function(e){void 0===e&&(e={});var t=e.currentValue,i=e.firstChange,n=e.previousValue;!i&&p.isPresent(t)&&p.isPresent(n)&&(this.navigationService.unregisterItem(n),this.navigationService.registerItem(t,this.isDisabled))},e.prototype.disableNavigationItem=function(e){if(e&&!e.firstChange){var t=this.navigationService;this.isDisabled?t.activateClosest(this.index):t.activateFocusable(),t.unregisterItem(this.index),t.registerItem(this.index,this.isDisabled)}},e.prototype.setAriaAttributes=function(){this.setAttribute("aria-level",this.ib.level(this.index).toString()),this.setAttribute("aria-expanded",this.isExpanded.toString()),this.setAttribute("aria-selected",this.isSelected.toString()),this.setAttribute("aria-checked",this.ariaChecked)},e.prototype.setDisabledClass=function(){this.setClass("k-state-disabled",this.isDisabled)},e.prototype.setClass=function(e,t){var i=t?"addClass":"removeClass";this.renderer[i](this.element.nativeElement,e)},e.prototype.updateTabIndex=function(){this.setAttribute("tabIndex",this.isFocusable()?"0":"-1")},e.prototype.setAttribute=function(e,t){this.renderer.setAttribute(this.element.nativeElement,e,t)},n.__decorate([r.Input(),n.__metadata("design:type",Object)],e.prototype,"dataItem",void 0),n.__decorate([r.Input(),n.__metadata("design:type",String)],e.prototype,"index",void 0),n.__decorate([r.Input(),n.__metadata("design:type",Object)],e.prototype,"parentDataItem",void 0),n.__decorate([r.Input(),n.__metadata("design:type",String)],e.prototype,"parentIndex",void 0),n.__decorate([r.Input(),n.__metadata("design:type",String),n.__metadata("design:paramtypes",[String])],e.prototype,"isChecked",null),n.__decorate([r.Input(),n.__metadata("design:type",Boolean)],e.prototype,"isDisabled",void 0),n.__decorate([r.Input(),n.__metadata("design:type",Boolean),n.__metadata("design:paramtypes",[Boolean])],e.prototype,"isExpanded",null),n.__decorate([r.Input(),n.__metadata("design:type",Boolean),n.__metadata("design:paramtypes",[Boolean])],e.prototype,"isSelected",null),e=n.__decorate([r.Directive({selector:"[kendoTreeViewItem]"}),n.__metadata("design:paramtypes",[r.ElementRef,a.ExpandStateService,o.NavigationService,s.SelectionService,c.TreeViewLookupService,r.Renderer2,d.IndexBuilderService])],e)}();t.TreeViewItemDirective=h},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(2),r=i(3),o=i(10),s=i(14),a=i(17),d=i(31),c=function(){function e(e,t,i,n){var r=this;this.element=e,this.navigationService=t,this.selectionService=i,this.renderer=n,this.initialSelection=!1,this.subscriptions=new a.Subscription(function(){}),this.subscriptions.add(this.navigationService.moves.subscribe(this.updateItem.bind(this))),this.subscriptions.add(this.navigationService.selects.pipe(d.filter(function(e){return e===r.index})).subscribe(function(e){return r.selectionService.select(e,r.dataItem)})),this.subscriptions.add(this.selectionService.changes.subscribe(function(){r.updateSelection(r.isSelected(r.dataItem,r.index))}))}return e.prototype.ngOnChanges=function(e){e.initialSelection&&this.updateSelection(this.initialSelection)},e.prototype.ngOnInit=function(){this.updateSelection(this.initialSelection)},e.prototype.ngOnDestroy=function(){this.subscriptions.unsubscribe()},e.prototype.updateItem=function(){this.render(this.navigationService.isActive(this.index),"k-state-focused")},e.prototype.updateSelection=function(e){this.render(e,"k-state-selected")},e.prototype.render=function(e,t){var i=e?"addClass":"removeClass";this.renderer[i](this.element.nativeElement,t)},n.__decorate([r.Input(),n.__metadata("design:type",Object)],e.prototype,"dataItem",void 0),n.__decorate([r.Input(),n.__metadata("design:type",String)],e.prototype,"index",void 0),n.__decorate([r.Input(),n.__metadata("design:type",Boolean)],e.prototype,"initialSelection",void 0),n.__decorate([r.Input(),n.__metadata("design:type",Function)],e.prototype,"isSelected",void 0),e=n.__decorate([r.Directive({selector:"[kendoTreeViewItemContent]"}),n.__metadata("design:paramtypes",[r.ElementRef,o.NavigationService,s.SelectionService,r.Renderer2])],e)}();t.TreeViewItemContentDirective=c},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(2),r=i(3),o=[i(48).CheckBoxComponent],s=function(){function e(){}return e=n.__decorate([r.NgModule({declarations:[o],exports:[o]})],e)}();t.CheckBoxModule=s},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(2),r=i(3),o=i(12),s=function(){function e(e,t,i){this.element=e,this.renderer=t,this.changeDetector=i,this.id="_"+o.guid(),this.tabindex=0,this.checkStateChange=new r.EventEmitter,this.checkState="none"}return Object.defineProperty(e.prototype,"classWrapper",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"indeterminate",{get:function(){return"indeterminate"===this.checkState},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"checked",{get:function(){return"checked"===this.checkState},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.renderer.removeAttribute(this.element.nativeElement,"tabindex")},e.prototype.ngDoCheck=function(){this.checkState=this.isChecked(this.node,this.index)},e.prototype.handleChange=function(e){var t=e.target.checked?"checked":"none";this.checkState=t,this.changeDetector.detectChanges(),this.checkStateChange.emit(t)},n.__decorate([r.HostBinding("class.k-checkbox-wrapper"),n.__metadata("design:type",Boolean),n.__metadata("design:paramtypes",[])],e.prototype,"classWrapper",null),n.__decorate([r.Input(),n.__metadata("design:type",String)],e.prototype,"id",void 0),n.__decorate([r.Input(),n.__metadata("design:type",Object)],e.prototype,"isChecked",void 0),n.__decorate([r.Input(),n.__metadata("design:type",Object)],e.prototype,"node",void 0),n.__decorate([r.Input(),n.__metadata("design:type",String)],e.prototype,"index",void 0),n.__decorate([r.Input(),n.__metadata("design:type",String)],e.prototype,"labelText",void 0),n.__decorate([r.Input(),n.__metadata("design:type",Number)],e.prototype,"tabindex",void 0),n.__decorate([r.Output(),n.__metadata("design:type",r.EventEmitter)],e.prototype,"checkStateChange",void 0),e=n.__decorate([r.Component({selector:"kendo-checkbox",template:'\n        <input\n            class="k-checkbox"\n            type="checkbox"\n            [id]="id"\n            [checked]="checked"\n            [indeterminate]="indeterminate"\n            [tabindex]="tabindex"\n            (change)="handleChange($event)"\n        />\n        <label\n            class="k-checkbox-label"\n            tabindex="-1"\n            [for]="id"\n        >{{labelText}}</label>\n    '}),n.__metadata("design:paramtypes",[r.ElementRef,r.Renderer2,r.ChangeDetectorRef])],e)}();t.CheckBoxComponent=s}])}}});